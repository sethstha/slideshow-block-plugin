(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){const e="sethstha-slides";let t,n,a,s,r,i,d,o,c,l,h,u,v,m,p,g;const f=()=>{h&&h.forEach(((e,t)=>{t===i?e.classList.add("active"):e.classList.remove("active")}))},y=e=>{try{if("next"===e)i=(i+1)%l;else{if("prev"!==e)throw new Error("Please provide direction for navigation");i=(i-1+l)%l}d=100*-i,n.style.transform=`translateX(${d}%)`,h&&f()}catch(e){console.error(e)}},E=t=>{try{n.innerHTML="",l=t.length,t.forEach((e=>(e=>{try{const t=e.featuredImage?`<img src="${e.featuredImage}" />`:null,a=new Date(e.date);n.innerHTML+=`<div class="sethstha-slide ${t?"has-thumbnail":""}">\n      <figure>\n        <a href="${e.link}" target="_blank">\n          ${t}\n        </a>\n      </figure>\n      <div class="sethstha-slide-description">\n        <div>\n          <a href="${e.link}" target="_blank" class="sethstha-slide-title">${e.title}</a>\n          <div class="sethstha-slide-date">\n            <span>${a.toLocaleDateString()}<span>\n          </div> \n          <div class="sethstha-slide-excerpt">${e.description}</div>\n        </div>\n      </div>\n    </div>`}catch(e){console.error(e)}})(e))),(e=>{try{if(r){r.innerHTML="";for(let t=0;t<e;t++)r.innerHTML+=`<button type="button" class="sethstha-pagination-indicator ${0===t?"active":""}" aria-label="Navigate to slide ${t}" aria-selected="false"></button>`;h=document.querySelectorAll(".sethstha-pagination-indicator")}}catch(e){console.error(e)}})(t.length),localStorage.setItem(e,JSON.stringify(t))}catch(e){console.error(e)}},w=()=>{(async()=>{async function e(e){const t=await fetch(`https://${p}/wp-json/wp/v2/media/${e}`);return(await t.json()).source_url}const t=await async function(){const e=await fetch(`https://${p}/wp-json/wp/v2/posts`);return await e.json()}();return await Promise.all(t.map((async t=>({id:t.id,title:t.title.rendered,link:t.link,date:t.date,description:t.excerpt.rendered,...0!==t.featured_image&&{featuredImage:await e(t.featured_media)}}))))})().then((e=>{E(e)}))};(()=>{try{t=document.getElementById("sethstha-slider-wrapper"),n=document.getElementById(e),i=0,d=100*-i,r=document.getElementById("sethstha-pagination"),u=localStorage.getItem(e)||void 0,p=t.dataset.url||"wptavern.com",v=JSON.parse(t.dataset.autoplay)||!1,m=t.dataset.delay||3e3,g=document.getElementById("sethstha-navigation")}catch(e){console.error(e)}})(),(()=>{if(u){const e=JSON.parse(u);E(e)}})(),w(),g&&(g.innerHTML='<button\n    id="sethstha-slider-prev"\n    class="sethstha-slider-nav sethstha-slider-nav--prev"\n  >\n    <span class="dashicons  dashicons-arrow-left-alt"></span>\n  </button>\n  <button\n    id="sethstha-slider-next"\n    class="sethstha-slider-nav sethstha-slider-nav--next"\n  >\n    <span class="dashicons  dashicons-arrow-right-alt"></span>\n  </button>',a=document.getElementById("sethstha-slider-prev"),s=document.getElementById("sethstha-slider-next"),a&&s&&(a.addEventListener("click",(()=>y("prev"))),s.addEventListener("click",(()=>y("next"))))),document.addEventListener("keydown",(e=>{"ArrowRight"===e.key?y("next"):"ArrowLeft"===e.key&&y("prev")})),n&&(n.addEventListener("touchstart",(e=>{c=null,o=e.targetTouches[0].clientX})),n.addEventListener("touchmove",(e=>{c=e.targetTouches[0].clientX})),n.addEventListener("touchend",(()=>{if(!o||!c)return;const e=o-c;e>50?y("next"):e<-50&&y("prev")}))),h&&h.forEach(((e,t)=>{e.addEventListener("click",(()=>{i=t,d=100*-t,n.style.transform=`translateX(${d}%)`,f()}))})),v&&setInterval((()=>{y("next")}),m),(()=>{try{const e=document.getElementById("sethstha-url"),t=document.getElementById("sethstha-url-btn"),n=document.getElementById("sethstha-url-changer");t&&e&&t.addEventListener("click",(()=>{var t;e.value.match(/^[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9]\.[a-zA-Z]{2,}$/)?(t=e.value,p=t,w(),n.classList.remove("error")):n.classList.add("error")}))}catch(e){console.error(e)}})()}))})();