{"version":3,"file":"view.js","mappings":"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","sources":["webpack://sethstha-slideshow/./src/view.js"],"sourcesContent":["'use strict';\n\n/**\n * Slider config\n */\n\ndocument.addEventListener('DOMContentLoaded', function () {\n\tconst slider = {\n\t\tsliderId: 'sethstha-slides',\n\t\tslideClass: 'sethstha-slide',\n\t\tnextBtnId: 'sethstha-slider-next',\n\t\tprevBtnId: 'sethstha-slider-prev',\n\t\tpaginationId: 'sethstha-pagination',\n\t\tpaginationIndicatorClass: 'sethstha-pagination-indicator',\n\t\tdefaultActiveIndex: 0,\n\t};\n\n\tlet sliderContainer,\n\t\tprevButton,\n\t\tnextButton,\n\t\tpagination,\n\t\tactiveIndex,\n\t\tcurrentTransform,\n\t\ttouchStart,\n\t\ttouchEnd,\n\t\tslidesLength;\n\n\t// Initialize\n\tconst init = () => {\n\t\ttry {\n\t\t\tsliderContainer = document.getElementById(slider.sliderId);\n\t\t\tprevButton = document.getElementById(slider.prevBtnId);\n\t\t\tnextButton = document.getElementById(slider.nextBtnId);\n\t\t\tactiveIndex = slider.defaultActiveIndex;\n\t\t\tcurrentTransform = -activeIndex * 100;\n\t\t\tpagination = document.getElementById(slider.paginationId);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t};\n\n\t// Generate Slider HTML and Render it\n\tconst renderSlidesHTML = (slide) => {\n\t\ttry {\n\t\t\tconst featuredImage = slide.featuredImage\n\t\t\t\t? `<img src=\"${slide.featuredImage}\" />`\n\t\t\t\t: null;\n\t\t\tsliderContainer.innerHTML += `<div class=\"sethstha-slide ${featuredImage ? 'has-thumbnail' : ''}\">\n      <figure>\n        ${featuredImage}\n        <figcaption>\n        <a>${slide.title}</a>\n        ${slide.description}\n        </figcaption>\n      </figure>\n    </div>`;\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t};\n\n\t// Generate Pagination and Render it\n\tconst renderPaginationHTML = (number) => {\n\t\ttry {\n\t\t\t//First clear the older html\n\t\t\tpagination.innerHTML = '';\n\t\t\tfor (let i = 0; i < number; i++) {\n\t\t\t\tpagination.innerHTML += `<button type=\"button\" class=\"sethstha-pagination-indicator\" aria-label=\"Navigate to slide ${i}\" aria-selected=\"false\"></button>`;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t};\n\n\t// Render slider depending upon the data\n\tconst renderSliderHTML = (slides) => {\n\t\ttry {\n\t\t\t// Clear older data\n\t\t\tsliderContainer.innerHTML = '';\n\t\t\tslides.forEach((slide) => renderSlidesHTML(slide));\n\t\t\trenderPaginationHTML(slides.length);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t};\n\n\t// Navigate slider\n\tconst navigate = (direction) => {\n\t\ttry {\n\t\t\tif (direction === 'next') {\n\t\t\t\tactiveIndex = (activeIndex + 1) % slidesLength;\n\t\t\t} else if (direction === 'prev') {\n\t\t\t\tactiveIndex = (activeIndex - 1 + slidesLength) % slidesLength;\n\t\t\t} else {\n\t\t\t\tthrow new Error('Please provide direction for navigation');\n\t\t\t}\n\t\t\tcurrentTransform = -activeIndex * 100;\n\t\t\tconsole.log('current transform', currentTransform);\n\t\t\tsliderContainer.style.transform = `translateX(${currentTransform}%)`;\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\n\t// Get array object of data\n\tconst getSliderData = async () => {\n\t\t// Fetch Posts\n\t\tasync function getPosts() {\n\t\t\tconst response = await fetch('https://wptavern.com/wp-json/wp/v2/posts');\n\t\t\tconst post = await response.json();\n\t\t\treturn post;\n\t\t}\n\n\t\t// Fetch featured image\n\t\tasync function getFeaturedImage(id) {\n\t\t\tconst response = await fetch(\n\t\t\t\t`https://wptavern.com/wp-json/wp/v2/media/${id}`\n\t\t\t);\n\t\t\tconst image = await response.json();\n\t\t\treturn image.source_url;\n\t\t}\n\n\t\tconst posts = await getPosts();\n\t\tconst filteredPosts = await Promise.all(\n\t\t\tposts.map(async (post) => {\n\t\t\t\treturn {\n\t\t\t\t\tid: post.id,\n\t\t\t\t\ttitle: post.title.rendered,\n\t\t\t\t\tdescription: post.excerpt.rendered,\n\t\t\t\t\t...(post.featured_image !== 0 && {\n\t\t\t\t\t\tfeaturedImage: await getFeaturedImage(post.featured_media),\n\t\t\t\t\t}),\n\t\t\t\t};\n\t\t\t})\n\t\t);\n\n\t\treturn filteredPosts;\n\t};\n\n\t// Configure keyboard navigation\n\tconst configureKeyboardNav = () => {\n\t\t// Navigate slider using keyboard\n\t\tdocument.addEventListener('keydown', (event) => {\n\t\t\tif (event.key === 'ArrowRight') {\n\t\t\t\tnavigate('next');\n\t\t\t} else if (event.key === 'ArrowLeft') {\n\t\t\t\tnavigate('prev');\n\t\t\t}\n\t\t});\n\t};\n\n\t// Configure button navigation\n\tconst configureButtonNav = () => {\n\t\tif (prevButton && nextButton) {\n\t\t\tprevButton.addEventListener('click', () => navigate('prev'));\n\t\t\tnextButton.addEventListener('click', () => navigate('next'));\n\t\t}\n\t};\n\n\t// Configures navigation\n\tconst configureNavigation = () => {\n\t\tconfigureButtonNav();\n\t\tconfigureKeyboardNav();\n\t};\n\n\tconst renderSlider = async () => {\n\t\tinit();\n\t\tconst slides = await getSliderData();\n\t\tslidesLength = slides.length;\n\t\tconsole.log(slidesLength);\n\t\tconfigureNavigation();\n\t\tconsole.log(slides);\n\t\trenderSliderHTML(slides);\n\t};\n\n\trenderSlider();\n});\n"],"names":["document","addEventListener","slider","sliderId","slideClass","nextBtnId","prevBtnId","paginationId","paginationIndicatorClass","defaultActiveIndex","sliderContainer","prevButton","nextButton","pagination","activeIndex","currentTransform","touchStart","touchEnd","slidesLength","init","getElementById","error","console","renderSlidesHTML","slide","featuredImage","innerHTML","title","description","renderPaginationHTML","number","i","renderSliderHTML","slides","forEach","length","navigate","direction","Error","log","style","transform","getSliderData","getPosts","response","fetch","post","json","getFeaturedImage","id","image","source_url","posts","filteredPosts","Promise","all","map","rendered","excerpt","featured_image","featured_media","configureKeyboardNav","event","key","configureButtonNav","configureNavigation","renderSlider"],"sourceRoot":""}