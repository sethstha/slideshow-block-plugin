{"version":3,"file":"view.js","mappings":";;;;;AAAA;AACA,eAAeA,QAAQA,CAAA,EAAG;EACzB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,0CAA0C,CAAC;EACxE,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;EAClC,OAAOD,IAAI;AACZ;;AAEA;AACA,eAAeE,gBAAgBA,CAACC,EAAE,EAAE;EACnC,MAAML,QAAQ,GAAG,MAAMC,KAAK,CAC1B,4CAA2CI,EAAG,EAChD,CAAC;EACD,MAAMC,KAAK,GAAG,MAAMN,QAAQ,CAACG,IAAI,CAAC,CAAC;EACnC,OAAOG,KAAK,CAACC,UAAU;AACxB;;AAEA;AACA,eAAeC,UAAUA,CAAA,EAAG;EAC3B,MAAMC,KAAK,GAAG,MAAMV,QAAQ,CAAC,CAAC;EAC9B,MAAMW,aAAa,GAAG,MAAMC,OAAO,CAACC,GAAG,CACtCH,KAAK,CAACI,GAAG,CAAC,MAAOX,IAAI,IAAK;IACzB,OAAO;MACNG,EAAE,EAAEH,IAAI,CAACG,EAAE;MACXS,KAAK,EAAEZ,IAAI,CAACY,KAAK,CAACC,QAAQ;MAC1BC,WAAW,EAAEd,IAAI,CAACe,OAAO,CAACF,QAAQ;MAClC,IAAIb,IAAI,CAACgB,cAAc,KAAK,CAAC,IAAI;QAChCC,aAAa,EAAE,MAAMf,gBAAgB,CAACF,IAAI,CAACkB,cAAc;MAC1D,CAAC;IACF,CAAC;EACF,CAAC,CACF,CAAC;EAED,OAAOV,aAAa;AACrB;;AAEA;AACA,SAASW,kBAAkBA,CAACC,KAAK,EAAE;EAClC,MAAMC,SAAS,GAAGC,QAAQ,CAACC,cAAc,CAAC,iBAAiB,CAAC;EAC5DF,SAAS,CAACG,SAAS,IAAK,QAAOJ,KAAK,CAACR,KAAM,QAAO;AACnD;;AAEA;AACA,SAASa,YAAYA,CAAA,EAAG;EACvB,MAAMJ,SAAS,GAAGC,QAAQ,CAACC,cAAc,CAAC,iBAAiB,CAAC;EAC5D,MAAMG,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC;;EAEtD;EACA,IAAIF,MAAM,IAAIA,MAAM,CAACG,MAAM,EAAE;IAC5B,MAAMC,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACN,MAAM,CAAC;IACvCI,YAAY,CAACnB,GAAG,CAAES,KAAK,IAAKD,kBAAkB,CAACC,KAAK,CAAC,CAAC;;IAEtD;AACF;AACA;IACEd,UAAU,CAAC,CAAC,CAAC2B,IAAI,CAAEC,eAAe,IAAK;MACtC,IAAIA,eAAe,KAAKR,MAAM,EAAE;QAC/BL,SAAS,CAACG,SAAS,GAAG,EAAE,CAAC,CAAC;QAC1BU,eAAe,CAACvB,GAAG,CAAES,KAAK,IAAKD,kBAAkB,CAACC,KAAK,CAAC,CAAC;MAC1D;IACD,CAAC,CAAC;EACH,CAAC,MAAM;IACN;IACAd,UAAU,CAAC,CAAC,CAAC2B,IAAI,CAAEE,SAAS,IAAK;MAChCd,SAAS,CAACG,SAAS,GAAG,EAAE,CAAC,CAAC;MAC1BW,SAAS,CAACxB,GAAG,CAAES,KAAK,IAAKD,kBAAkB,CAACC,KAAK,CAAC,CAAC;MACnDO,YAAY,CAACS,OAAO,CAAC,iBAAiB,EAAEL,IAAI,CAACM,SAAS,CAACF,SAAS,CAAC,CAAC;IACnE,CAAC,CAAC;EACH;AACD;AAEAV,YAAY,CAAC,CAAC,C","sources":["webpack://sethstha-slideshow/./src/view.js"],"sourcesContent":["// fetches posts\nasync function getPosts() {\n\tconst response = await fetch('https://wptavern.com/wp-json/wp/v2/posts');\n\tconst post = await response.json();\n\treturn post;\n}\n\n// fetches featured image\nasync function getFeaturedImage(id) {\n\tconst response = await fetch(\n\t\t`https://wptavern.com/wp-json/wp/v2/media/${id}`\n\t);\n\tconst image = await response.json();\n\treturn image.source_url;\n}\n\n// Fetches posts and feauted image and returns an array\nasync function fetchPosts() {\n\tconst posts = await getPosts();\n\tconst filteredPosts = await Promise.all(\n\t\tposts.map(async (post) => {\n\t\t\treturn {\n\t\t\t\tid: post.id,\n\t\t\t\ttitle: post.title.rendered,\n\t\t\t\tdescription: post.excerpt.rendered,\n\t\t\t\t...(post.featured_image !== 0 && {\n\t\t\t\t\tfeaturedImage: await getFeaturedImage(post.featured_media),\n\t\t\t\t}),\n\t\t\t};\n\t\t})\n\t);\n\n\treturn filteredPosts;\n}\n\n// Generates HTML markup for slide\nfunction generateSlidesHTML(slide) {\n\tconst container = document.getElementById('sethstha-slides');\n\tcontainer.innerHTML += `<div>${slide.title}</div>`;\n}\n\n// Actual logic of rendering slides\nfunction renderSlides() {\n\tconst container = document.getElementById('sethstha-slides');\n\tconst slides = localStorage.getItem('sethstha-slides');\n\n\t// When there is data saved to localstorage\n\tif (slides && slides.length) {\n\t\tconst parsedSlides = JSON.parse(slides);\n\t\tparsedSlides.map((slide) => generateSlidesHTML(slide));\n\n\t\t/* Check whether local storage data is upto date or not\n\t\t * If not replace it with newer data\n\t\t */\n\t\tfetchPosts().then((comparingSlides) => {\n\t\t\tif (comparingSlides !== slides) {\n\t\t\t\tcontainer.innerHTML = ''; //Empty out the container\n\t\t\t\tcomparingSlides.map((slide) => generateSlidesHTML(slide));\n\t\t\t}\n\t\t});\n\t} else {\n\t\t// When there is no data on local storage\n\t\tfetchPosts().then((newSlides) => {\n\t\t\tcontainer.innerHTML = ''; //Empty out the container\n\t\t\tnewSlides.map((slide) => generateSlidesHTML(slide));\n\t\t\tlocalStorage.setItem('sethstha-slides', JSON.stringify(newSlides));\n\t\t});\n\t}\n}\n\nrenderSlides();\n"],"names":["getPosts","response","fetch","post","json","getFeaturedImage","id","image","source_url","fetchPosts","posts","filteredPosts","Promise","all","map","title","rendered","description","excerpt","featured_image","featuredImage","featured_media","generateSlidesHTML","slide","container","document","getElementById","innerHTML","renderSlides","slides","localStorage","getItem","length","parsedSlides","JSON","parse","then","comparingSlides","newSlides","setItem","stringify"],"sourceRoot":""}